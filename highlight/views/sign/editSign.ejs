<%- include('../partials/head.ejs') %>
<%- include('../partials/header_small.ejs') %>

<main class="main-body">
    <div class="contenedor-main container">
        <h2 class="titulo-seccion">Publicar mi cartel</h2>
        <div class="box-view">
            <div class="box-container-view ">

                <form action="/sign/edit/<%=sign.id%>?_method=PUT" method="POST" class="ui-form" enctype="multipart/form-data"
                    id="publishForm">
                    <p class="titulo-content"> Ubicación del cartel</p>
                    <p class="form-content">
                        <label for="address">Domicilio apróximado:</label>
                        <input id="address" value="<%= sign.address %>" type="text" name="address"
                            data-type="domicilio">
                        <span class="feedback"></span>
                    </p>
                    <p class="form-content">

                        <label for="street_number">Número o altura de calle:</label>
                        <input id="street_number" value="<%= sign.street_number %>" type="text" name="street_number"
                            data-type="número">
                        <span class="feedback"></span>
                    </p>
                    <p class="form-content">
                        <label for="street_1">Entre calle:</label>
                        <input class="input_50" value="<%= sign.street_1 %>" type="text" name="street_1"
                            class="input-medum" data-type="calle">
                        <span class="feedback"></span>
                    </p>
                   
                    <p class="form-content">
                        <label for="street_2">Y la calle:</label>
                        <input class="input_50" value="<%= sign.street_2 %>" type="text" name="street_2"
                            class="input-medum" data-type="calle">
                        <span class="feedback"></span>
                    </p>
                    <p class="form-content">
                        <!--aca puedo tener un array de barrios e imprimir en un combo.-->
                        <label for="city">Barrio o localidad:</label>
                        <input id="city" value="<%= sign.city %>" type="text" name="city"
                            data-type="barrio o localidad">
                        <span class="feedback"></span>
                    </p>
                    <p class="form-content">
                        <label for="state">Provincia:</label>
                        <input id="state" value="<%= sign.state %>" type="text" name="state" data-type="provincia">
                        <span class="feedback"></span>
                    </p>
                    <p class="form-content">
                        <label for="reference">Referencias del lugar:</label>
                        <textarea name="reference" id="reference"
                            data-type="referencias"><%= sign.reference%></textarea>
                        <span class="feedback"></span>
                    </p>
                    <div class="form-content">
                        <label for="type_id" class="imageNew">Imagen: </label>
                        <p class="" id="boxImage">
                            <img src="/images/imagescartel/<%= sign.picture_filename%>" height="80px">
                            <a href="" id="changeImage"> Cambiar </a>
                        </p>
                        <span class="feedback"></span>
         
                    </div>
                   
                    <p class="titulo-content margin">Especificaciones</p>
                    <p class="form-content">
                        <label for="tech_id">Tipo de cartel:</label>
                            <select name="tech_id" id="tech_id" data-type="Clasificacion">
                                <% tech.forEach(tech => { %>
                                <option value="<%= tech.id %>" <%= tech.id == sign.tech_id ? "selected" : "" %>><%= tech.sign_tech %> </option>
                                <% });%>
                            </select>
                    </p>
                    <p class="form-content">
                        <label for="type_id">Clasificación: </label>
                        <select name="type_id" id="type_id" data-type="Clasificacion">
                            <% type.forEach(type => { %>
                                <!-- comparo cual es el type y si está seleccionado sumo seleted al opction para que se muestre con esa opción-->
                            <option value="<%= type.id %>" <%= type.id == sign.type_id ? "selected" : "" %>><%= type.sign_type %> </option>
                            <% });%>
                        </select>
                    </p>
                    <p class="form-content">
                        <label for="star">Tráfico apróx. por día:</label>
                        <select name="star" id="star" data-type="peatón">
                            <option value="" selected disabled hidden> Seleccionar </option>
                            <option value="1" <%= 1 == sign.star ? "selected" : "" %>>Hasta 10000 personas</option>
                            <option value="3" <%= 3 == sign.star ? "selected" : "" %>>Entre 10000 y 19999 personas</option>
                            <option value="4" <%= 4 == sign.star ? "selected" : "" %>>Entre 20000 y 49999 personas</option>
                            <option value="5" <%= 5 == sign.star ? "selected" : "" %>>Más de 50000 personas</option>
                        </select>
                    </p>
                    <p class="form-content input_50">
                        <label for="heigth">Alto: </label>
                        <input class="small" value="<%= sign.heigth %>" type="text" name="heigth"
                            data-type="altura">
                        <span class="feedback"></span>
                    </p>
                    <p class="form-content input_50">
                        <label for="width">Ancho:</label>
                        <input class="small" value="<%= sign.width %>" type="text" name="width"
                            data-type="ancho">
                        <span class="feedback"></span>
                    </p>

                    <p class="form-content input_50">
                        <label for="monthly_cost">Costo de alquiler: </label>
                        <input class="small" value="<%= sign.monthly_cost %>" type="text" name="monthly_cost"
                            id="monthly_cost" data-type="costo">
                        <span class="feedback"></span>
                    </p>

                    <div class="box-buttom ">
                        <button type="submit" class="btn">Continuar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</main>
<script src="/js/validator.min.js"></script>
<script src="/js/publish_validator.js"></script>
